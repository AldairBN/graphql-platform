{"componentChunkName":"component---src-templates-doc-page-template-tsx","path":"/docs/hotchocolate/defining-a-schema/directives","result":{"data":{"file":{"childMdx":{"fields":{"slug":"/hotchocolate/defining-a-schema/directives/"},"frontmatter":{"title":"Directives"},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Directives\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Here we will learn what GraphQL directives are and how we can build custom directives.\"), mdx(\"h1\", null, \"Introduction\"), mdx(\"p\", null, \"Directives provide a way to add metadata for client tools such as code generators and IDEs or alternate a GraphQL server's runtime execution and type validation behavior. There are two kinds of directives, executable directives to annotate executable parts of GraphQL documents and type-system directives to annotate SDL types. Typically, any GraphQL server implementation should provide the following directives \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@skip\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@include\"), \", and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@deprecated\"), \". \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@skip\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@include\"), \", for example, are executable directives used in GraphQL documents to exclude or include fields, whereas \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@deprecated\"), \" is a type-system directive used in SDL types to inform client tools that a particular part such as a field is deprecated.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Hint:\"), \" Directives in GraphQL are pretty similar to Attributes in .Net\")), mdx(\"h2\", null, \"Structure\"), mdx(\"p\", null, \"Directives consist of a name and a list of arguments that contain zero or more arguments. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@skip\"), \", for example, has the name \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"skip\"), \" and a mandatory argument named \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"if\"), \". Also, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@skip\"), \" carries a piece of hidden information only examinable in SDL, namely the location, which specifies where a directive is applicable. Let's take a look at the SDL of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@skip\"), \" directive.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-sdl\"\n  }), \"directive @skip(if: Boolean!) on\\n    | FIELD\\n    | FRAGMENT_SPREAD\\n    | INLINE_FRAGMENT\\n\")), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"directive\"), \" keyword in SDL indicates that we're dealing with a directive type declaration. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@\"), \" sign also indicates that this is a directive but more from a usage perspective. The word \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"skip\"), \" represents the directive's name followed by a pair of parentheses that includes a list of arguments, consisting, in our case, of one argument named \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"if\"), \" of type non-nullable boolean (means it's required). The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"on\"), \" keyword indicates the location where or at which part a directive is applicable, followed by a list of exact locations separated by pipes \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"|\"), \". In the case of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@skip\"), \", we can see that we're dealing with an executable directive because this directive is only applicable to fields, fragment-spreads, and inline-fragments.\"), mdx(\"h2\", null, \"Usage\"), mdx(\"p\", null, \"Let's say we have a GraphQL document and want to exclude details under certain circumstances; it would probably look something like this.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-graphql\"\n  }), \"query me($excludeDetails: Boolean!) {\\n  me {\\n    id\\n    name\\n    ...Details @skip(if: $excludeDetails)\\n  }\\n}\\n\\nfragment Details on User {\\n  mobileNumber\\n  phoneNumber\\n}\\n\")), mdx(\"p\", null, \"With \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@skip\"), \", we've successfully altered the GraphQL's runtime execution behavior. If \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"$excludeDetails\"), \" is set to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"true\"), \", the execution engine will exclude the fields \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"mobileNumber\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"phoneNumber\"), \"; the response would look like this.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\"\n  }), \"{\\n  \\\"data\\\": {\\n    \\\"me\\\": {\\n      \\\"id\\\": \\\"VXNlcgox\\\",\\n      \\\"name\\\": \\\"Henry\\\"\\n    }\\n  }\\n}\\n\")), mdx(\"p\", null, \"Now that we know how to use directives in GraphQL, let's head over to the next section, which is about one crucial aspect of directives.\"), mdx(\"h3\", null, \"Order Matters\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Directives' order is significant\"), \" because the execution is in \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"sequential order\"), \", which means one after the other. If we have something like the following example, we can see how directives can affect each other.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-graphql\"\n  }), \"query me {\\n  me {\\n    name @skip(if: true) @include(if: true)\\n  }\\n}\\n\")), mdx(\"p\", null, \"Since we excluded the field \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"name\"), \" in the first place, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@include\"), \" does not affect the field \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"name\"), \" anymore. We then just get an empty \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"me\"), \" object in return.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\"\n  }), \"{\\n  \\\"data\\\": {\\n    \\\"me\\\": {}\\n  }\\n}\\n\")), mdx(\"p\", null, \"For better visualization purposes, that's how we could interpret the sequential order in this particular case.\"), mdx(\"div\", {\n    \"className\": \"mermaid\",\n    \"data-processed\": \"true\"\n  }, mdx(\"svg\", _extends({\n    parentName: \"div\"\n  }, {\n    \"id\": \"mermaid-1618385140437\",\n    \"width\": \"100%\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"height\": \"359\",\n    \"style\": {\n      \"maxWidth\": \"558px\"\n    },\n    \"viewBox\": \"-77 -10 558 359\"\n  }), mdx(\"style\", {\n    parentName: \"svg\"\n  }, \"#mermaid-1618385140437{font-family:sans-serif;font-size:16px;fill:#333;}#mermaid-1618385140437 .error-icon{fill:#552222;}#mermaid-1618385140437 .error-text{fill:#552222;stroke:#552222;}#mermaid-1618385140437 .edge-thickness-normal{stroke-width:2px;}#mermaid-1618385140437 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1618385140437 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1618385140437 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1618385140437 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1618385140437 .marker{fill:#333333;}#mermaid-1618385140437 .marker.cross{stroke:#333333;}#mermaid-1618385140437 svg{font-family:sans-serif;font-size:16px;}#mermaid-1618385140437 .actor{stroke:hsl(259.6261682243,59.7765363128%,87.9019607843%);fill:#ECECFF;}#mermaid-1618385140437 text.actor > tspan{fill:black;stroke:none;}#mermaid-1618385140437 .actor-line{stroke:grey;}#mermaid-1618385140437 .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#mermaid-1618385140437 .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#mermaid-1618385140437 #arrowhead path{fill:#333;stroke:#333;}#mermaid-1618385140437 .sequenceNumber{fill:white;}#mermaid-1618385140437 #sequencenumber{fill:#333;}#mermaid-1618385140437 #crosshead path{fill:#333;stroke:#333;}#mermaid-1618385140437 .messageText{fill:#333;stroke:#333;}#mermaid-1618385140437 .labelBox{stroke:hsl(259.6261682243,59.7765363128%,87.9019607843%);fill:#ECECFF;}#mermaid-1618385140437 .labelText,#mermaid-1618385140437 .labelText > tspan{fill:black;stroke:none;}#mermaid-1618385140437 .loopText,#mermaid-1618385140437 .loopText > tspan{fill:black;stroke:none;}#mermaid-1618385140437 .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(259.6261682243,59.7765363128%,87.9019607843%);fill:hsl(259.6261682243,59.7765363128%,87.9019607843%);}#mermaid-1618385140437 .note{stroke:#aaaa33;fill:#fff5ad;}#mermaid-1618385140437 .noteText,#mermaid-1618385140437 .noteText > tspan{fill:black;stroke:none;}#mermaid-1618385140437 .activation0{fill:#f4f4f4;stroke:#666;}#mermaid-1618385140437 .activation1{fill:#f4f4f4;stroke:#666;}#mermaid-1618385140437 .activation2{fill:#f4f4f4;stroke:#666;}#mermaid-1618385140437:root{--mermaid-font-family:sans-serif;}#mermaid-1618385140437 sequence{fill:apa;}\"), mdx(\"g\", {\n    parentName: \"svg\"\n  }), mdx(\"g\", {\n    parentName: \"svg\"\n  }, mdx(\"line\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"actor0\",\n    \"x1\": \"75\",\n    \"y1\": \"5\",\n    \"x2\": \"75\",\n    \"y2\": \"348\",\n    \"className\": \"actor-line\",\n    \"strokeWidth\": \"0.5px\",\n    \"stroke\": \"#999\"\n  })), mdx(\"rect\", _extends({\n    parentName: \"g\"\n  }, {\n    \"x\": \"0\",\n    \"y\": \"0\",\n    \"fill\": \"#eaeaea\",\n    \"stroke\": \"#666\",\n    \"width\": \"150\",\n    \"height\": \"65\",\n    \"rx\": \"3\",\n    \"ry\": \"3\",\n    \"className\": \"actor\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"x\": \"75\",\n    \"y\": \"32.5\",\n    \"dominantBaseline\": \"central\",\n    \"alignmentBaseline\": \"central\",\n    \"className\": \"actor\",\n    \"style\": {\n      \"textAnchor\": \"middle\",\n      \"fontSize\": \"14px\",\n      \"fontWeight\": \"400\",\n      \"fontFamily\": \"Open-Sans, sans-serif\"\n    }\n  }), mdx(\"tspan\", _extends({\n    parentName: \"text\"\n  }, {\n    \"x\": \"75\",\n    \"dy\": \"0\"\n  }), \"@skip\"))), mdx(\"g\", {\n    parentName: \"svg\"\n  }, mdx(\"line\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"actor1\",\n    \"x1\": \"356\",\n    \"y1\": \"5\",\n    \"x2\": \"356\",\n    \"y2\": \"348\",\n    \"className\": \"actor-line\",\n    \"strokeWidth\": \"0.5px\",\n    \"stroke\": \"#999\"\n  })), mdx(\"rect\", _extends({\n    parentName: \"g\"\n  }, {\n    \"x\": \"281\",\n    \"y\": \"0\",\n    \"fill\": \"#eaeaea\",\n    \"stroke\": \"#666\",\n    \"width\": \"150\",\n    \"height\": \"65\",\n    \"rx\": \"3\",\n    \"ry\": \"3\",\n    \"className\": \"actor\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"x\": \"356\",\n    \"y\": \"32.5\",\n    \"dominantBaseline\": \"central\",\n    \"alignmentBaseline\": \"central\",\n    \"className\": \"actor\",\n    \"style\": {\n      \"textAnchor\": \"middle\",\n      \"fontSize\": \"14px\",\n      \"fontWeight\": \"400\",\n      \"fontFamily\": \"Open-Sans, sans-serif\"\n    }\n  }), mdx(\"tspan\", _extends({\n    parentName: \"text\"\n  }, {\n    \"x\": \"356\",\n    \"dy\": \"0\"\n  }), \"@include\"))), mdx(\"defs\", {\n    parentName: \"svg\"\n  }, mdx(\"marker\", _extends({\n    parentName: \"defs\"\n  }, {\n    \"id\": \"arrowhead\",\n    \"refX\": \"5\",\n    \"refY\": \"2\",\n    \"markerWidth\": \"6\",\n    \"markerHeight\": \"4\",\n    \"orient\": \"auto\"\n  }), mdx(\"path\", _extends({\n    parentName: \"marker\"\n  }, {\n    \"d\": \"M 0,0 V 4 L6,2 Z\"\n  })))), mdx(\"defs\", {\n    parentName: \"svg\"\n  }, mdx(\"marker\", _extends({\n    parentName: \"defs\"\n  }, {\n    \"id\": \"crosshead\",\n    \"markerWidth\": \"15\",\n    \"markerHeight\": \"8\",\n    \"orient\": \"auto\",\n    \"refX\": \"16\",\n    \"refY\": \"4\"\n  }), mdx(\"path\", _extends({\n    parentName: \"marker\"\n  }, {\n    \"fill\": \"black\",\n    \"stroke\": \"#000000\",\n    \"strokeWidth\": \"1px\",\n    \"d\": \"M 9,2 V 6 L16,4 Z\",\n    \"style\": {\n      \"strokeDasharray\": \"0, 0\"\n    }\n  })), mdx(\"path\", _extends({\n    parentName: \"marker\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"strokeWidth\": \"1px\",\n    \"d\": \"M 0,1 L 6,7 M 6,1 L 0,7\",\n    \"style\": {\n      \"strokeDasharray\": \"0, 0\"\n    }\n  })))), mdx(\"defs\", {\n    parentName: \"svg\"\n  }, mdx(\"marker\", _extends({\n    parentName: \"defs\"\n  }, {\n    \"id\": \"sequencenumber\",\n    \"refX\": \"15\",\n    \"refY\": \"15\",\n    \"markerWidth\": \"60\",\n    \"markerHeight\": \"40\",\n    \"orient\": \"auto\"\n  }), mdx(\"circle\", _extends({\n    parentName: \"marker\"\n  }, {\n    \"cx\": \"15\",\n    \"cy\": \"15\",\n    \"r\": \"6\"\n  })))), mdx(\"text\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"x\": \"75\",\n    \"y\": \"125\",\n    \"textAnchor\": \"middle\",\n    \"dominantBaseline\": \"middle\",\n    \"alignmentBaseline\": \"middle\",\n    \"className\": \"messageText\",\n    \"dy\": \"1em\",\n    \"style\": {\n      \"fontFamily\": \"\\\"trebuchet ms\\\", verdana, arial\",\n      \"fontSize\": \"16px\",\n      \"fontWeight\": \"400\"\n    }\n  }), \"field or fragment excluded\"), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"d\": \"M 75,154 C 135,144 135,184 75,174\",\n    \"className\": \"messageLine0\",\n    \"strokeWidth\": \"2\",\n    \"stroke\": \"none\",\n    \"markerEnd\": \"url(#arrowhead)\",\n    \"style\": {\n      \"fill\": \"none\"\n    }\n  })), mdx(\"g\", {\n    parentName: \"svg\"\n  }), mdx(\"text\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"x\": \"218\",\n    \"y\": \"224\",\n    \"textAnchor\": \"middle\",\n    \"dominantBaseline\": \"middle\",\n    \"alignmentBaseline\": \"middle\",\n    \"className\": \"messageText\",\n    \"dy\": \"1em\",\n    \"style\": {\n      \"fontFamily\": \"\\\"trebuchet ms\\\", verdana, arial\",\n      \"fontSize\": \"16px\",\n      \"fontWeight\": \"400\"\n    }\n  }), \"field or fragment not excluded\"), mdx(\"line\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"x1\": \"80\",\n    \"y1\": \"253\",\n    \"x2\": \"356\",\n    \"y2\": \"253\",\n    \"className\": \"messageLine0\",\n    \"strokeWidth\": \"2\",\n    \"stroke\": \"none\",\n    \"markerEnd\": \"url(#arrowhead)\",\n    \"style\": {\n      \"fill\": \"none\"\n    }\n  })), mdx(\"g\", {\n    parentName: \"svg\"\n  }), mdx(\"g\", {\n    parentName: \"svg\"\n  }, mdx(\"line\", _extends({\n    parentName: \"g\"\n  }, {\n    \"x1\": \"-27\",\n    \"y1\": \"75\",\n    \"x2\": \"366\",\n    \"y2\": \"75\",\n    \"className\": \"loopLine\"\n  })), mdx(\"line\", _extends({\n    parentName: \"g\"\n  }, {\n    \"x1\": \"366\",\n    \"y1\": \"75\",\n    \"x2\": \"366\",\n    \"y2\": \"263\",\n    \"className\": \"loopLine\"\n  })), mdx(\"line\", _extends({\n    parentName: \"g\"\n  }, {\n    \"x1\": \"-27\",\n    \"y1\": \"263\",\n    \"x2\": \"366\",\n    \"y2\": \"263\",\n    \"className\": \"loopLine\"\n  })), mdx(\"line\", _extends({\n    parentName: \"g\"\n  }, {\n    \"x1\": \"-27\",\n    \"y1\": \"75\",\n    \"x2\": \"-27\",\n    \"y2\": \"263\",\n    \"className\": \"loopLine\"\n  })), mdx(\"line\", _extends({\n    parentName: \"g\"\n  }, {\n    \"x1\": \"-27\",\n    \"y1\": \"199\",\n    \"x2\": \"366\",\n    \"y2\": \"199\",\n    \"className\": \"loopLine\",\n    \"style\": {\n      \"strokeDasharray\": \"3, 3\"\n    }\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"points\": \"-27,75 23,75 23,88 14.6,95 -27,95\",\n    \"className\": \"labelBox\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"x\": \"-2\",\n    \"y\": \"88\",\n    \"textAnchor\": \"middle\",\n    \"dominantBaseline\": \"middle\",\n    \"alignmentBaseline\": \"middle\",\n    \"className\": \"labelText\",\n    \"style\": {\n      \"fontFamily\": \"\\\"trebuchet ms\\\", verdana, arial\",\n      \"fontSize\": \"16px\",\n      \"fontWeight\": \"400\"\n    }\n  }), \"alt\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"x\": \"194.5\",\n    \"y\": \"93\",\n    \"textAnchor\": \"middle\",\n    \"className\": \"loopText\",\n    \"style\": {\n      \"fontFamily\": \"\\\"trebuchet ms\\\", verdana, arial\",\n      \"fontSize\": \"16px\",\n      \"fontWeight\": \"400\"\n    }\n  }), mdx(\"tspan\", _extends({\n    parentName: \"text\"\n  }, {\n    \"x\": \"194.5\"\n  }), \"[if == true]\"))), mdx(\"g\", {\n    parentName: \"svg\"\n  }, mdx(\"rect\", _extends({\n    parentName: \"g\"\n  }, {\n    \"x\": \"0\",\n    \"y\": \"283\",\n    \"fill\": \"#eaeaea\",\n    \"stroke\": \"#666\",\n    \"width\": \"150\",\n    \"height\": \"65\",\n    \"rx\": \"3\",\n    \"ry\": \"3\",\n    \"className\": \"actor\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"x\": \"75\",\n    \"y\": \"315.5\",\n    \"dominantBaseline\": \"central\",\n    \"alignmentBaseline\": \"central\",\n    \"className\": \"actor\",\n    \"style\": {\n      \"textAnchor\": \"middle\",\n      \"fontSize\": \"14px\",\n      \"fontWeight\": \"400\",\n      \"fontFamily\": \"Open-Sans, sans-serif\"\n    }\n  }), mdx(\"tspan\", _extends({\n    parentName: \"text\"\n  }, {\n    \"x\": \"75\",\n    \"dy\": \"0\"\n  }), \"@skip\"))), mdx(\"g\", {\n    parentName: \"svg\"\n  }, mdx(\"rect\", _extends({\n    parentName: \"g\"\n  }, {\n    \"x\": \"281\",\n    \"y\": \"283\",\n    \"fill\": \"#eaeaea\",\n    \"stroke\": \"#666\",\n    \"width\": \"150\",\n    \"height\": \"65\",\n    \"rx\": \"3\",\n    \"ry\": \"3\",\n    \"className\": \"actor\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"x\": \"356\",\n    \"y\": \"315.5\",\n    \"dominantBaseline\": \"central\",\n    \"alignmentBaseline\": \"central\",\n    \"className\": \"actor\",\n    \"style\": {\n      \"textAnchor\": \"middle\",\n      \"fontSize\": \"14px\",\n      \"fontWeight\": \"400\",\n      \"fontFamily\": \"Open-Sans, sans-serif\"\n    }\n  }), mdx(\"tspan\", _extends({\n    parentName: \"text\"\n  }, {\n    \"x\": \"356\",\n    \"dy\": \"0\"\n  }), \"@include\"))))), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Note:\"), \" We will have a deep dive on directives' order under the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"#middleware\"\n  }), \"Middleware\"), \" section.\")), mdx(\"p\", null, \"Now that we have a basic understanding of what directives are, how they work, and what we can do with them, let's have fun and create a custom directive.\"), mdx(\"h1\", null, \"Custom Directives\"), mdx(\"p\", null, \"To create a directive, we need to create a new class that inherits from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DirectiveType\"), \" and also to override the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Configure\"), \" method. Okay, here is a simple example.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-csharp\"\n  }), \"public class MyDirective\\n    : DirectiveType\\n{\\n    protected override void Configure(IDirectiveTypeDescriptor descriptor)\\n    {\\n        descriptor.Name(\\\"my\\\");\\n        descriptor.Location(DirectiveLocation.Field);\\n    }\\n}\\n\")), mdx(\"p\", null, \"Before we can use our custom directive, we need to register it to the GraphQL schema. When using the HotChocolate .Net template, we just go to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ConfigureServices\"), \" method, located in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Startup.cs\"), \" file, and add a single line of code \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AddDirectiveType<MyDirectiveType>()\"), \" to the existing GraphQL configuration.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-csharp\"\n  }), \"services\\n    .AddGraphQLServer()\\n    .AddQueryType<Query>()\\n    .AddDirectiveType<MyDirectiveType>();\\n\")), mdx(\"p\", null, \"Let's recap! We have registered a new directive named \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"my\"), \" without any arguments and limited the usage to fields only. A GraphQL query request with our new directive could look like this.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-graphql\"\n  }), \"query foo {\\n  bar @my\\n}\\n\")), mdx(\"p\", null, \"As of now, our custom directive provides no functionality. We will handle that part under the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"#middleware\"\n  }), \"Middleware\"), \" section. But before we do that, let's talk about the repeatable directive and typed arguments.\"), mdx(\"h2\", null, \"Repeatable Directives\"), mdx(\"p\", null, \"By default, directives are not repeatable, which means directives are unique and can be applied once at a specific location. For example, if we use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"my\"), \" directive twice at the field \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"bar\"), \", we will encounter a validation error. So the following GraphQL query request results in an error if the directive is not repeatable.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-graphql\"\n  }), \"query foo {\\n  bar @my @my\\n}\\n\")), mdx(\"p\", null, \"To enable repeatability, we need to add just one line of code \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"descriptor.Repeatable();\"), \" to the existing \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Configure\"), \" method.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-csharp\"\n  }), \"public class MyDirective\\n    : DirectiveType\\n{\\n    protected override void Configure(IDirectiveTypeDescriptor descriptor)\\n    {\\n        descriptor.Name(\\\"my\\\");\\n        descriptor.Location(DirectiveLocation.Field);\\n        descriptor.Repeatable();\\n    }\\n}\\n\")), mdx(\"p\", null, \"This configuration will translate into the following SDL.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-sdl\"\n  }), \"directive @my repeatable on FIELD\\n\")), mdx(\"p\", null, \"That was easy! Let's head over to the next section, where we talk about typed arguments!\"), mdx(\"h2\", null, \"Typed Arguments\"), mdx(\"p\", null, \"A directive can provide additional information through attributes. Arguments might also come in handy in combination with repeatable directives for reusability purposes. To add an argument we just use a single line of code \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"descriptor.Argument(\\\"name\\\").Type<NonNullType<StringType>>();\"), \". In this line of code, we tell the descriptor that we want to add an argument named \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"name\"), \", and it's of type non-nullable string (means it's required).\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-csharp\"\n  }), \"public class MyDirective\\n    : DirectiveType\\n{\\n    protected override void Configure(IDirectiveTypeDescriptor descriptor)\\n    {\\n        descriptor.Name(\\\"my\\\");\\n        descriptor.Location(DirectiveLocation.Field);\\n        descriptor.Argument(\\\"name\\\").Type<NonNullType<StringType>>();\\n    }\\n}\\n\")), mdx(\"p\", null, \"This configuration will translate into the following SDL.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-sdl\"\n  }), \"directive @my(name: String!) on FIELD\\n\")), mdx(\"h3\", null, \"Type Safety\"), mdx(\"p\", null, \"We could associate the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MyDirective\"), \" with an object like this:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-csharp\"\n  }), \"public class FooType\\n    : ObjectType\\n{\\n    protected override void Configure(IObjectTypeDescriptor descriptor)\\n    {\\n        descriptor.Name(\\\"Foo\\\");\\n        descriptor.Directive(\\\"my\\\", new StringValue(\\\"bar\\\"));\\n    }\\n}\\n\")), mdx(\"p\", null, \"Adding directives just with their name is not type-safe and could lead to runtime errors, which are avoidable by using our generic variant of the directive type. The generic directive type declares the .NET type that represents the directive instance.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-csharp\"\n  }), \"public class MyDirectiveType\\n    : DirectiveType<MyDirective>\\n{\\n    protected override void Configure(IDirectiveTypeDescriptor descriptor)\\n    {\\n        descriptor.Name(\\\"my\\\");\\n    }\\n}\\n\\npublic class MyDirective\\n{\\n    public string Name { get; set; }\\n}\\n\")), mdx(\"p\", null, \"The generic directive type works similar to the generic input object type. The directive descriptor will automatically try to discover any properties and expose those as arguments.\"), mdx(\"p\", null, \"So, with our new directive in place, we could now add it to our object type like the following:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-csharp\"\n  }), \"public class FooType\\n    : ObjectType\\n{\\n    protected override void Configure(IObjectTypeDescriptor descriptor)\\n    {\\n        descriptor.Name(\\\"Foo\\\");\\n        descriptor.Directive(new MyDirective { Name = \\\"bar\\\" });\\n    }\\n}\\n\")), mdx(\"p\", null, \"Since the directive instance that we have added to our type is now a strong .NET type, we don't have to fear changes to the directive structure or name anymore.\"), mdx(\"h2\", null, \"Middleware\"), mdx(\"p\", null, \"What makes directive with Hot Chocolate very useful is the ability to associate a middleware with it. A middleware can alternate the result or even produce the result of a field. A directive middleware is only added to a field middleware pipeline when the directive was annotated to the object definition, the field definition or the field.\"), mdx(\"p\", null, \"Moreover, of the directive is repeatable the middleware will be added multiple times to the middleware allowing to build a real pipeline with it.\"), mdx(\"p\", null, \"In order to add a middleware to a directive you could declare it with the descriptor as a delegate.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-csharp\"\n  }), \"public class MyDirectiveType\\n    : DirectiveType<MyDirective>\\n{\\n    protected override void Configure(IDirectiveTypeDescriptor descriptor)\\n    {\\n        descriptor.Name(\\\"my\\\");\\n        descriptor.Location(DirectiveLocation.Object);\\n        descriptor.Use(next => context =>\\n        {\\n            context.Result = \\\"Bar\\\";\\n            return next.Invoke(context);\\n        })\\n    }\\n}\\n\\npublic class MyDirective\\n{\\n    public string Name { get; set; }\\n}\\n\")), mdx(\"p\", null, \"Directives with middleware or executable directives can be put on object types and on their field definitions or on the field selection in a query. Executable directives on an object type will replace the field resolver of every field of the annotated object type.\"), mdx(\"h3\", null, \"Order\"), mdx(\"p\", null, \"In GraphQL the directive order is significant and with our middleware we use the order of directives to create a resolver pipeline through which the result flows.\"), mdx(\"p\", null, \"The resolver pipeline consists of a sequence of directive delegates, called one after the other.\"), mdx(\"p\", null, \"Each delegate can perform operations before and after the next delegate. A delegate can also decide to not pass a resolver request to the next delegate, which is called short-circuiting the resolver pipeline. Short-circuiting is often desirable because it avoids unnecessary work.\"), mdx(\"p\", null, \"The order of middleware pipeline is defined by the order of the directives. Since, executable directives will flow from the object type to its field definitions the directives of the type would be called first in the order that they were annotated.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-sdl\"\n  }), \"type Query {\\n  foo: Bar\\n}\\n\\ntype Bar @a @b {\\n  baz: String @c @d\\n}\\n\")), mdx(\"p\", null, \"So, the directives in the above example would be called in the following order \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"a, b, c, d\"), \".\"), mdx(\"p\", null, \"If there were more directives in the query, they would be appended to the directives from the type.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-graphql\"\n  }), \"{\\n  foo {\\n    baz @e @f\\n  }\\n}\\n\")), mdx(\"p\", null, \"So, now the order would be like the following: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"a, b, c, d, e, f\"), \".\"), mdx(\"p\", null, \"Every middleware can execute the original resolver function by calling \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ResolveAsync()\"), \" on the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"IDirectiveContext\"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#introduction","title":"Introduction","items":[{"url":"#structure","title":"Structure"},{"url":"#usage","title":"Usage"}]},{"url":"#custom-directives","title":"Custom Directives","items":[{"url":"#repeatable-directives","title":"Repeatable Directives"},{"url":"#typed-arguments","title":"Typed Arguments"},{"url":"#middleware","title":"Middleware"}]}]}}},"site":{"siteMetadata":{"siteUrl":"https://chillicream.com","repositoryUrl":"https://github.com/ChilliCream/hotchocolate","tools":{"slack":"http://bit.ly/joinchilli"}}},"config":{"products":[{"path":"hotchocolate","title":"Hot Chocolate","description":"Build your own thin GraphQL API layer on top of any resource.","versions":[{"path":"","title":"v11.1 (latest)","items":[{"path":"index","title":"Introduction","items":null},{"path":"get-started","title":"Get Started","items":null},{"path":"defining-a-schema","title":"Defining a schema","items":[{"path":"index","title":"Schema basics"},{"path":"descriptions","title":"Schema Documentation"},{"path":"operations","title":"Operations"},{"path":"versioning","title":"Versioning"},{"path":"unions-and-interfaces","title":"Unions and Interfaces"},{"path":"extending-types","title":"Extending types"},{"path":"scalars","title":"Scalars"},{"path":"directives","title":"Directives"}]},{"path":"fetching-data","title":"Fetching data","items":[{"path":"index","title":"Resolver"},{"path":"fetching-from-databases","title":"Fetching from Databases"},{"path":"fetching-from-rest","title":"Fetching from REST"},{"path":"dataloader","title":"DataLoader"},{"path":"pagination","title":"Pagination"},{"path":"filtering","title":"Filtering"},{"path":"sorting","title":"Sorting"},{"path":"projections","title":"Projections"}]},{"path":"distributed-schema","title":"Distributed Schemas","items":[{"path":"index","title":"Overview"},{"path":"schema-stitching","title":"Schema Stitching"},{"path":"schema-federations","title":"Schema Federations"},{"path":"schema-configuration","title":"Schema Configuration"}]},{"path":"integrations","title":"Integrations","items":[{"path":"index","title":"Overview"},{"path":"entity-framework","title":"Entity Framework"},{"path":"spatial-data","title":"Spatial Data"},{"path":"mongodb","title":"MongoDB"}]},{"path":"performance","title":"Performance","items":[{"path":"index","title":"Overview"},{"path":"persisted-queries","title":"Persisted queries"},{"path":"automatic-persisted-queries","title":"Automatic persisted queries"}]},{"path":"api-reference","title":"API Reference","items":[{"path":"index","title":"Overview"},{"path":"object-type","title":"Object Type"},{"path":"custom-attributes","title":"Custom Attributes"},{"path":"language","title":"Language"},{"path":"extending-filtering","title":"Extending Filtering"},{"path":"visitors","title":"Visitors"},{"path":"aspnetcore","title":"ASP.NET Core"},{"path":"dependency-injection","title":"Dependency Injection"},{"path":"executable","title":"Executable"},{"path":"apollo-tracing","title":"Apollo Tracing"},{"path":"migrate-from-10-to-11","title":"Migrate from 10.5 to 11.0"}]}]},{"path":"v10","title":"v10 (previous)","items":[{"path":"index","title":"Introduction","items":null},{"path":"code-first","title":"Code-First","items":null},{"path":"schema-first","title":"Schema-First","items":null},{"path":"schema","title":"Schema","items":[{"path":"index","title":"Schema"},{"path":"object-type","title":"Object Type"},{"path":"interface-type","title":"Interface Type"},{"path":"union-type","title":"Union Type"},{"path":"input-object-type","title":"Input Object Type"},{"path":"enum-type","title":"Enum Type"},{"path":"descriptions","title":"Schema Descriptions"},{"path":"custom-scalar-types","title":"Scalar Type Support"},{"path":"descriptor-attributes","title":"Descriptor Attributes"},{"path":"extending-types","title":"Custom Base Classes"},{"path":"directives","title":"Directives"},{"path":"resolvers","title":"Resolvers"},{"path":"relay","title":"Relay"},{"path":"conventions","title":"Conventions"},{"path":"options","title":"Schema Options"}]},{"path":"data-fetching","title":"Data Fetching","items":[{"path":"index","title":"Data Loaders"},{"path":"pagination","title":"Pagination"},{"path":"filters","title":"Filters"}]},{"path":"security","title":"Security","items":[{"path":"index","title":"Authorization"},{"path":"security","title":"Security"}]},{"path":"execution-engine","title":"Execution Engine","items":[{"path":"index","title":"Middleware"},{"path":"validation-rules","title":"Validation Rules"},{"path":"instrumentation","title":"Instrumentation"},{"path":"apollo-tracing","title":"Apollo Tracing"},{"path":"batching","title":"Batching"},{"path":"persisted-queries","title":"Persisted Queries"},{"path":"custom-context-data","title":"Custom Context Data"},{"path":"subscriptions","title":"Subscriptions"},{"path":"type-conversion","title":"Type Conversion"},{"path":"error-filter","title":"Error Filter"},{"path":"execution-options","title":"Execution Options"}]},{"path":"server","title":"Server","items":[{"path":"index","title":"ASP.Net"},{"path":"dependency-injection","title":"Dependency Injection"}]},{"path":"stitching","title":"Schema Stitching","items":null},{"path":"tooling","title":"Tooling","items":null},{"path":"advanced","title":"Advanced","items":[{"path":"index","title":"Parser"},{"path":"dotnet-cli","title":".Net CLI"}]},{"path":"tutorials","title":"Tutorials","items":[{"path":"index","title":"Entity Framework"}]},{"path":"examples","title":"Examples","items":[{"path":"index","title":"Star Wars"},{"path":"slack-clone","title":"Slack Clone"},{"path":"other-examples","title":"Other Examples"}]}]}]},{"path":"bananacakepop","title":"Banana Cake Pop","description":"Use this GUI to get deep insights from any GraphQL API.","versions":[{"path":"","title":"v1 (preview)","items":[{"path":"index","title":"Introduction","items":null}]}]},{"path":"strawberryshake","title":"Strawberry Shake","description":"The only GraphQL client you will every need in the .NET ecosystem.","versions":[{"path":"","title":"v11 (preview)","items":[{"path":"index","title":"Introduction","items":null},{"path":"get-started","title":"Get Started","items":[{"path":"index","title":"Blazor"},{"path":"xamarin","title":"Xamarin"},{"path":"console","title":"Console"}]},{"path":"subscriptions","title":"Subscriptions","items":null},{"path":"tooling","title":"Tooling / CLI","items":null},{"path":"caching","title":"Caching","items":[{"path":"index","title":"Overview"},{"path":"entities","title":"Entities"},{"path":"invalidation","title":"Invalidation"}]},{"path":"performance","title":"Performance","items":[{"path":"index","title":"Overview"},{"path":"persisted-queries","title":"Persisted Queries"},{"path":"persisted-state","title":"Persisted State"}]},{"path":"networking","title":"Networking","items":[{"path":"index","title":"Protocols"},{"path":"authentication","title":"Authentication"}]},{"path":"scalars","title":"Scalars","items":null}]}]},{"path":"greendonut","title":"Green Donut","description":"Configure data loaders and caching for GraphQL endpoints.","versions":[{"path":"","title":"v11 (latest)","items":[{"path":"index","title":"Introduction","items":null}]},{"path":"v10","title":"v10 (previous)","items":[{"path":"index","title":"Introduction","items":null},{"path":"installation","title":"Installation","items":null},{"path":"usage","title":"Usage","items":null},{"path":"api","title":"API","items":null},{"path":"advanced-concepts","title":"Advanced Concepts","items":[{"path":"index","title":"Custom DataLoader"},{"path":"diagnostics","title":"Diagnostic Events"}]}]}]}]}},"pageContext":{"originPath":"hotchocolate/defining-a-schema/directives.md"}},"staticQueryHashes":["1014893094","2890364758","4218812017"]}